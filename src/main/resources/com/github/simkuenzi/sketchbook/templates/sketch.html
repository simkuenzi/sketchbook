<html th:replace="~{layout.html :: layout(~{::title}, ~{::div})}" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title><th:block th:text="${sketch.name}">Recipe</th:block> - Sketchbook</title>
    <link rel="stylesheet" href="../static/css/style.css">
</head>
<body class="body">
<div class="content" >


    <form method="post">
        <div class="form-row">
            <div class="form-input-large" th:class="${sketch.name.validity.name() == 'VALID'} ? 'form-input-large' : 'form-input-active form-input-large'">
                <input name="name" type="text" th:value="${sketch.name.name}" value="Recipe" />
                <div th:switch="${sketch.name.validity.name()}" class="form-input-message">
                    <span th:case="'MALFORMED'">Enter a valid sketch name /<th:block th:text="${sketch.name.pattern}">[^()$]</th:block>/</span>
                    <span th:case="'DUPLICATE_NAME'">There is already a sketch with this name</span>
                </div>
            </div>
        </div>
        <div class="form-row">
            <textarea name="content" rows="15" th:text="${sketch.content}"></textarea>
        </div>
        <div class="form-row-action">
            <button form="delete" name="delete" type="button" onclick="del(this)">Delete</button>
            <button name="save" type="submit">Save</button>
        </div>
    </form>

    <form method="post" id="delete">
        <input type="hidden" name="delete" />
    </form>


    <script>
        function del(btn) {
            if (confirm('Are you sure?')) {
                btn.form.submit();
            }
        }
    </script>

</div>
</body>
</html>